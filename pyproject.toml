[project]
name = "gsl"
dynamic = ["version"]
authors = [{ name = "Agn√®s Haasser", email = "agnes.haasser@beta.gouv.fr" }]
readme = "README.md"
license = { file = "LICENSE" }
dependencies = [
    "celery",
    "dj-database-url",
    "django",
    "django-celery-beat",
    "django-csp",
    "django-dsfr",
    "django-referrer-policy",
    "django_celery_results",
    "django-import-export",
    "django-json-widget",
    "django-htmx",
    "ipython",
    "gunicorn",
    "mozilla-django-oidc",
    "psycopg[binary]",
    "python-dotenv",
    "redis",
    "sentry-sdk",
    "whitenoise",
]

[tool.setuptools]
packages = ["gsl"]

[build-system]
requires = ["setuptools", "setuptools_scm"]
build-backend = "setuptools.build_meta"

[project.optional-dependencies]
dev = [
    "diff-cover",
    "django-extensions",
    "django-query-counter",
    "djlint",
    "factory_boy",
    "pip-tools",
    "pre-commit",
    "pytest-cov",
    "pytest-django",
    "pytest-ruff",
    "pytest-xdist",
    "pytest",
    "ruff",
]

[tool.pytest.ini_options]
DJANGO_SETTINGS_MODULE = "gsl.settings"
addopts = "--ruff --create-db --cov-report xml --cov-report term-missing --cov=. -p no:warnings"


[tool.ruff.lint]
exclude = ["**/migrations/*.py"]
ignore = ["E501"]
select = ["I", "F", "E", "DJ", "C90"]
