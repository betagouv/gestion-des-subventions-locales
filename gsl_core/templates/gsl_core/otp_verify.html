{% extends "base.html" %}
{% load static dsfr_tags %}

{% block breadcrumb %}
{% endblock breadcrumb %}

{% block title %}
    <title>Vérification à deux facteurs — {{ SITE_CONFIG.site_title }}</title>
{% endblock title %}

{% block content %}
    <div class="fr-container fr-container--fluid fr-mb-md-14v">
        <div class="fr-grid-row fr-grid-row-gutters fr-grid-row--center">
            <div class="fr-col-12 fr-col-md-10 fr-col-lg-8">
                <div class="fr-container fr-background-alt--grey fr-px-md-0 fr-py-10v fr-py-md-14v">
                    <div class="fr-grid-row fr-grid-row-gutters fr-grid-row--center">
                        <div class="fr-col-12 fr-col-md-9 fr-col-lg-8">
                            <h1>
                                Vérification à deux facteurs
                            </h1>

                            <p>
                                Entrez le code généré par votre application d'authentification
                                pour accéder à votre compte.
                            </p>

                            {% if error %}
                                <div class="fr-alert fr-alert--error fr-mb-4v">
                                    <p>
                                        {{ error }}
                                    </p>
                                </div>
                            {% endif %}

                            <form method="post">
                                {% csrf_token %}
                                <input type="hidden" name="next" value="{{ next }}">
                                <div class="fr-input-group {% if error %}fr-input-group--error{% endif %}">
                                    <label class="fr-label" for="token">
                                        Code à 6 chiffres
                                    </label>
                                    <input class="fr-input {% if error %}fr-input--error{% endif %}"
                                           type="text"
                                           id="token"
                                           name="token"
                                           inputmode="numeric"
                                           autocomplete="one-time-code"
                                           pattern="[0-9]{6}"
                                           maxlength="6"
                                           required
                                           autofocus>
                                </div>
                                <button class="fr-btn fr-mt-4v" type="submit">
                                    Valider
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
